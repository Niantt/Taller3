<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer src="scripts/alpine.min.js"></script>
  <link rel="stylesheet" href="css/tailwind.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <title>Spica Project:Editor</title>
  <link rel="icon" type="image/png" href="/resources/img/favicon.ico">

</head>

<body>
  <!-- Header -->
  <div>
    <div class="relative pt-6 px-4 sm:px-6 lg:px-8 border-b-2 border-gray-100 py-6 md:justify-start md:soace-x-10">
      <nav class="relative flex items-center justify-between sm:h-10 lg:justify-start" aria-label="Global">
        <div class="flex items-center flex-grow flex-shrink-0 lg:flex-grow-0">
          <div class="flex items-center justify-between w-full md:w-auto">
            <a href="#">
              <span class="sr-only">Workflow</span>
              <img class="h-8 w-auto sm:h-10" src="resources/img/favicon.ico">
            </a>
            <div class="-mr-2 flex items-center md:hidden">
              <button type="button"
                class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
                aria-expanded="false">
                <span class="sr-only">Abre el menu</span>
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </button>
            </div>
          </div>
        </div>
        <div class="hidden md:block md:ml-10 md:pr-4 md:space-x-8">
          <a href="maqueta.html" class="font-medium text-gray-500 hover:text-gray-900">Inicio</a>
          <a href="editor.html" class="font-medium text-gray-500 hover:text-gray-900">Editor</a>
        </div>
      </nav>
    </div>
    <!-- Termino de Header -->
    <!-- rows -->
    <div class="grid grid-rows-3 grid-flow-col gap-4">
      <!-- menu izquierda -->
      <div class="row-span-2 bg-red-100">
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2">
          Menu
        </button>
      </div>
      <!-- reproductor -->
      <div class="col-span-5 row-span-2 bg-yellow-500">
        <main>
          <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <div class="px-4 py-6 sm:px-0">
              <!-- video -->
              <div class="border-4 border-dashed border-gray-200 rounded-lg h-96">
                <p>video</p>
              </div>
              <!-- timeline -->
              <div class="Quiz--component SliderRange" x-data="{ min: 200, max: 500 }">
                <div class="multi-range-slider" wire:ignore data-min="100" data-max="900"
                  x-bind:style="'height: '+ (parseInt($refs.height.offsetHeight) + parseInt(getComputedStyle($refs.height).marginTop) + parseInt(getComputedStyle($refs.height).marginBottom)) +'px;'">
                  <style
                    x-text="'.range::-webkit-slider-runnable-track { background: linear-gradient(90deg, #dee4ec calc('+ Number((min - $refs.min.min) * 100 / ($refs.min.max - $refs.min.min)) +'% + '+ Number(16 - (Number((min - $refs.min.min) * 100 / ($refs.min.max - $refs.min.min)) * 0.32)) +'px), red calc('+ Number((min - $refs.min.min) * 100 / ($refs.min.max - $refs.min.min)) +'% + '+ Number(16 - (Number((min - $refs.min.min) * 100 / ($refs.min.max - $refs.min.min)) * 0.32)) +'px), red calc('+ Number((max - $refs.max.min) * 100 / ($refs.max.max - $refs.max.min)) +'% + '+ Number(16 - (Number((max - $refs.max.min) * 100 / ($refs.max.max - $refs.max.min)) * 0.32)) +'px), #dee4ec calc('+ Number((max - $refs.max.min) * 100 / ($refs.max.max - $refs.max.min)) +'% + '+ Number(16 - (Number((max - $refs.max.min) * 100 / ($refs.max.max - $refs.max.min)) * 0.32)) +'px)) !important; }'">
                  </style>
                  <div class="range-slider" x-ref="height" id="min">
                    <div class="tooltip" x-html="parseInt(min)"
                      x-bind:style="'left: calc('+ Number((min - $refs.min.min) * 100 / ($refs.min.max - $refs.min.min)) +'% + '+ Number(16 - (Number((min - $refs.min.min) * 100 / ($refs.min.max - $refs.min.min)) * 0.32)) +'px)'">
                    </div>
                    <input class="range" type="range" id="min" x-ref="min"
                      x-on:input="if(Number(max) <= Number($event.target.value) + 100) { $event.target.value = Number(max) - 100; }"
                      x-model="min" step="10" min="100" max="900">
                  </div>
                  <div class="range-slider" id="max">
                    <div class="tooltip" x-html="parseInt(max)"
                      x-bind:style="'left: calc('+ Number((max - $refs.max.min) * 100 / ($refs.max.max - $refs.max.min)) +'% + '+ Number(16 - (Number((max - $refs.max.min) * 100 / ($refs.max.max - $refs.max.min)) * 0.32)) +'px)'">
                    </div>
                    <input class="range" type="range" wire:model.lazy="a.max" x-ref="max"
                      x-on:input.prevent="if(Number(min) >= Number($event.target.value) - 100) { $event.target.value = Number(min) + 100; } else { return false; }"
                      x-model="max" step="10" min="100" max="900">
                  </div>
                </div>
              </div>
              <!-- timeline -->
              <div class="border-4 border-dashed border-gray rounded-lg h-20">
                <p>timeline</p>
              </div>
              <!-- botones -->
              <div x-data="main()" class="botones">
                <div>
                  <p class="pys">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2" data-target="system/station1/dhs1/playback" data-cmd="play" data-par="">Play</button>
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2" data-target="system/station1/dhs1/playback" data-cmd="stop" data-par="">Stop</button>
                  </p>
                </div>
                  <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2" data-target="system/station1/dhs1/playback" data-cmd="first" data-par="">First</button>
                  <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2" data-target="system/station1/dhs1/playback" data-cmd="prev" data-par="10">Prev</button>
                  <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2" data-target="system/station1/dhs1/playback" data-cmd="next" data-par="10">Next</button>
                  <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded px-4 py-2" data-target="system/station1/dhs1/playback" data-cmd="last" data-par="">Last</button> 
              </div>
            </div>
          </div>
        </main>
      </div>
      <!-- opciones -->
      <div class="row-span-2 col-span-2 bg-yellow-100">
        <p>Black-reference</p>
        <select name="" id="" class="appearance-focus">
          <option value="">option 1</option>
          <option value="">option 2</option>
          <option value="">option 3</option>
        </select>
      </div>
    </div>

    <script>
      // Codigo marco -----------------------------------------------------------------------------
      // onClick: function(e){
      //   fetch(e.target.dataset.target,{
      //     method:'POST',
      //     headers:{
      //       'Content-Type': 'application/json',
      //     },
      //     body: JSON.stringify({ cmd: e.target.dataset.cmd, par: e.target.dataset.par }),
      //   })
      //   .then(response => response.json())
      //   .then(data => {console.log('Success:', data);
      //   })
      //   .catch((error) => {console.error('Error', error);
      //   });
      // };
      // --------------------------------------------------------------------------------------------------

      // Intento -----------------------------------------------------------------------------------------
      function main(){
         return{
           play: {
             target:"system/station1/dhs1/playback",
             cmd: "play",
             par: ""
           },
           stop: {
             target:"system/station1/dhs1/playback",
             cmd: "stop",
             par: ""
           },
           first: {
             target:"system/station1/dhs1/playback",
             cmd: "first",
             par: ""
           },
           prev: {
             target:"system/station1/dhs1/playback",
             cmd: "prev",
             par: "10"
           },
           next: {
             target:"system/station1/dhs1/playback",
             cmd: "next",
             par: "10"
           },
           last: {
             target:"system/station1/dhs1/playback",
             cmd: "last",
             par: ""
           },
           onClick: function(type){
             if(type == 'play'){
               fetch(target,{
                 method: 'POST',
                 header: {
                   'Content-Type': 'application/json',
                 },
                 body: JSON.stringify({ cmd: "play", par: "" })
               })
             }

           }
         }
       }
      //  --------------------------------------------------------------------------

    </script>


</body>

</html>