<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>stDHS</title>
    <link rel="stylesheet" href="app.css">
    <script src="index.js" defer></script>
</head>

<body class="body" x-data="{open: false}">
    <!--Sidebar menu-->
    <nav
        class="absolute inset-0 transform lg:transform-none lg:opacity-100 duration-200 lg:relative z-10 w-60 bg-indigo-900 text-white h-screen p-3"
        :class="{'translate-x-0 ease-in opacity-100':open === true, '-translate-x-full ease-out opacity-0': open === false}">   
        <div class="flex justify-between">
            <span class="span">Men√∫</span>
            <button
                class="p-2 focus:outline-none focus:bg-indigo-800 hover:bg-indigo-800 rounded-md lg:hidden"
                @click="open = false">

                <!--Icons from heroicons-->
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M15 19l-7-7 7-7"/>
                </svg>
            </button>
        </div>
            <!--Menu items-->
        <ul class="mt-8">
            <li>
                <a href="#" class="nav">Home</a>
                <a href="#" class="nav">About</a>
                <div @click.away="open = false" class="relative" x-data="{ open: false }">
                    <button @click="open = !open" class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-bold text-left rounded-lg ">
                      <span>Select mode</span>
                    </button>
                    <div x-show="open" 
                        x-transition:enter="transition ease-out duration-100" 
                        x-transition:enter-start="transform opacity-0 scale-95" 
                        x-transition:enter-end="transform opacity-100 scale-100" 
                        x-transition:leave="transition ease-in duration-75" 
                        x-transition:leave-start="transform opacity-100 scale-100" 
                        x-transition:leave-end="transform opacity-0 scale-95" 
                        x-data="main()">
                      <div class="mode">
                        <a @click="senddata('play','',slug[0],host)" class="dropdown">Playback</a>
                        <a @click="senddata('stop','',slug[0],host)" class="dropdown">Stop</a>
                        <a @click="senddata('mode','setup',slug[1],host)" class="dropdown">Setup</a>
                        <a @click="senddata('mode','record',slug[1],host)" class="dropdown">Record</a>
                        
                      </div>
            </li>
        </ul>
    </nav>
    <div class="relative z-0 lg:flex-grow">
        <header class="flex bg-indigo-800 text-white items-center px-3 ">
            <div>
                <!--Navbar image-->
                <img class="image" src="/public/img/favicon.ico">
            </div>
            
            <button
                class="p-2 focus:outline-none focus:bg-gray-600 hover:bg-gray-600 rounded-md lg:hidden"
                @click="open = true">
                    <!--Icons from heroicons-->
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
            <span class="span">Spica Technology</span>
        </header>
        <div class="videop">
            <div class="divs" x-data="main()"><h4>Device Mode</h4>
            <a @click="senddata('mode','setup',slug[1],host)" class="btn-primary">Setup</a>
            <a @click="senddata('mode','record',slug[1],host)" class="btn-primary">Record</a>
            <a @click="senddata('mode','playback',slug[1],host)" class="btn-primary">Playback</a>
            
        </div>
        <div class="divs" x-data="main()"><h4>Playback</h4>
            <a @click="senddata('play','',slug[0],host)" class="btn-primary">Play</a>
            <a @click="senddata('stop','',slug[0],host)" class="btn-primary">Stop</a>
            <a @click="senddata('first','',slug[0],host)" class="btn-primary">First frame</a>
            <a @click="senddata('prev','',slug[0],host)" class="btn-primary">Prev frame</a>
            <a @click="senddata('next','',slug[0],host)" class="btn-primary">Next frame </a>
            <a @click="senddata('last','',slug[0],host)" class="btn-primary">Last frame</a>
            <a @click="senddata('terminate','',slug[2],host)" class="btn-primary">Terminate</a>
        </div>
        <div class="divs" x-data="main()"><h4>Seek normalized</h4>
            <input class= "w-full" type= "range"  min="0" max="1000" @input="senddata('seek_norm',$event.target.value/1000.0,slug[0],host)">
        </div>
        <div class="text-center absolute inset-x-0 bottom-0 bottom bg-purple-900 w-auto h-auto ">
            <div class="grid grid-cols-3 block bg-purple-700 m-4 text-white w-auto h-auto rounded-3xl">
                <span>
                    Framerate:
                    <span class="bg-purple-500 text-white">
                        Placeholder 
                    </span>
                </span>
                <span>Exposure:
                    <span class="bg-purple-500 text-white">
                    Placeholder 
                </span>
            </span>
                <span>Shutter:
                    <span class="bg-purple-500 text-white">
                    Placeholder 
                </span>
            </span>
            </div>
            <div class="grid grid-cols-3 block bg-purple-700 m-4 text-white w-auto h-auto rounded-3xl">
                <span>Gain:
                    <span class="bg-purple-500 text-white">
                    Placeholder 
                </span>
            </span>
                <span>Whitebalance:
                    <span class="bg-purple-500 text-white">
                    Placeholder 
                </span>
            </span>
            <span>Black-reference:
                <span class="bg-purple-500 text-white">
                Placeholder 
            </span>
        </span>
            </div>
        </div>
    </div>
</body>
</html>